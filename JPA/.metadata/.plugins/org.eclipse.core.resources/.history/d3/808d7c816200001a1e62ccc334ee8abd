package com.lti.ui;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import com.lti.model.Student;

public class Main {

	public static void main(String[] args) {

		Student student = new Student(1,"Aneri",60.5);
		//JPA Api
		EntityManagerFactory factory= Persistence.createEntityManagerFactory(""); //used for reading persistence_unit inside persitence.xml file which contains all db connection info.
		EntityManager entityManager=factory.createEntityManager(); // this object is used for handling lifecycle of entity. All CRUD op is performed by this object's methods.
		entityManager.getTransaction().begin(); // for insert/update/delete we need transaction.. so open transaction
		entityManager.persist(student);
		entityManager.getTransaction().commit(); // transaction close with commit.
		System.out.println("Student object saved");
	}

}
